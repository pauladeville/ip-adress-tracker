{"mappings":"AAAA,IAAI;AACJ,MAAM,YAAY,EAAE,SAAS,CAAC,kDAAkD;IAC9E,SAAS;AACX;AACA,IAAI,YAAY;AAChB,IAAI,aAAa;AACjB,MAAM,eAAe,SAAS,aAAa,CAAC;AAC5C,MAAM,YAAY,SAAS,aAAa,CAAC;AAEzC,uBAAuB;AACvB,MAAM,sCACH,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI,IACtB,IAAI,CAAC,CAAC,OAAS;IACd,eAAe,KAAK,EAAE;AACxB,GACC,KAAK,CAAC,CAAC,QAAU;IAChB,QAAQ,KAAK,CAAC;AAChB;AAEF,4BAA4B;AAC5B,eAAe,eAAe,UAAU,EAAE;IACxC,IAAI,gCAAgC,IAAI,CAAC,aAAa;QACpD,YAAY;QACZ,UAAU,SAAS,CAAC,MAAM,CAAC;IAC7B,OAAO,IAAI,kDAAkD,IAAI,CAAC,aAAa;QAC7E,UAAU,SAAS,CAAC,MAAM,CAAC;QAE3B,aAAa;IACf,OACE,UAAU,SAAS,CAAC,GAAG,CAAC;IAE1B,IAAI;QACF,MAAM,MAAM,MAAM,MAAM,iGAAiG,YAAY,aAAa;QAClJ,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,aAAa;QACb,MAAM,EAAE,IAAG,EAAE,IAAG,EAAE,GAAG,KAAK,QAAQ;QAClC,UAAU,KAAK;IACjB,EAAE,OAAO,OAAO;QACd,QAAQ,GAAG,CAAC;IACd;AACF;AAEA,YAAY;AACZ,eAAe,UAAU,QAAQ,EAAE,SAAS,EAAE;IAC5C,IAAI;QACF,IAAI,KACF,IAAI,MAAM;QAEZ,MAAM,UAAU,SAAS,aAAa,CAAC;QACvC,QAAQ,KAAK,CAAC,OAAO,GAAG;QACxB,MAAM,EAAE,GAAG,CAAC,OAAO,OAAO,CAAC;YAAC;YAAU;SAAU,EAAE;QAClD,UAAU,KAAK,CAAC;QAChB,EAAE,MAAM,CAAC;YAAC;YAAU;SAAU,EAAE,KAAK,CAAC;IACxC,EAAE,OAAO,OAAO;QACd,QAAQ,GAAG,CAAC;IACd;AACF;AAEA,eAAe;AACf,MAAM,gBAAgB,SAAS,aAAa,CAAC;AAC7C,MAAM,iBAAiB,SAAS,aAAa,CAAC;AAC9C,MAAM,iBAAiB,SAAS,aAAa,CAAC;AAC9C,MAAM,YAAY,SAAS,aAAa,CAAC;AACzC,eAAe,aAAa,IAAI,EAAE;IAChC,cAAc,WAAW,GAAG,KAAK,EAAE;IACnC,eAAe,WAAW,GAAG,KAAK,QAAQ,CAAC,IAAI;IAC/C,eAAe,WAAW,GAAG,SAAS,KAAK,QAAQ,CAAC,QAAQ;IAC5D,UAAU,WAAW,GAAG,KAAK,GAAG;AAClC;AAEA,aAAa;AACb,aAAa,gBAAgB,CAAC,SAAS,IAAM;IAC3C,eAAe,UAAU,KAAK;AAChC;AACA,SAAS,gBAAgB,CAAC,YAAY,CAAC,IAAM;IAC3C,IAAI,EAAE,GAAG,KAAK,SACZ,eAAe,UAAU,KAAK;AAElC","sources":["app.js"],"sourcesContent":["let map;\nconst tileLayer = L.tileLayer(\"https://tile.openstreetmap.org/{z}/{x}/{y}.png\", {\n  maxZoom: 19,\n});\nlet ipAddress = \"\";\nlet domainName = \"\";\nconst submitButton = document.querySelector(\"#submit\");\nconst inputArea = document.querySelector(\"input\");\n\n//VISITOR IP BY DEFAULT\nfetch(\"https://api.ipify.org/?format=json\")\n  .then((res) => res.json())\n  .then((data) => {\n    getCoordinates(data.ip);\n  })\n  .catch((error) => {\n    console.error(error);\n  });\n\n//GET LATITUDE AND LONGITUDE\nasync function getCoordinates(inputValue) {\n  if (/^([0-9]{1,3}\\.){3}[0-9]{1,3}$/.test(inputValue)) {\n    ipAddress = inputValue;\n    inputArea.classList.remove(\"error\");\n  } else if (/^[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*\\.[a-zA-Z]{2,}$/.test(inputValue)) {\n    inputArea.classList.remove(\"error\");\n\n    domainName = inputValue;\n  } else {\n    inputArea.classList.add(\"error\");\n  }\n  try {\n    const res = await fetch(\"https://geo.ipify.org/api/v2/country,city?apiKey=at_dfH8tDzTsnI6Fb3ulm1ilJVI7g7qd&ipAddress=\" + ipAddress + \"&domain=\" + domainName);\n    const data = await res.json();\n    updateResult(data);\n    const { lat, lng } = data.location;\n    updateMap(lat, lng);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n//UPDATE MAP\nasync function updateMap(latitude, longitude) {\n  try {\n    if (map) {\n      map.remove();\n    }\n    const spinner = document.querySelector(\"#spinner\");\n    spinner.style.display = \"none\";\n    map = L.map(\"map\").setView([latitude, longitude], 14);\n    tileLayer.addTo(map);\n    L.marker([latitude, longitude]).addTo(map);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n//UPDATE RESULT\nconst addressResult = document.querySelector(\".result__item--address p\");\nconst locationResult = document.querySelector(\".result__item--location p\");\nconst timezoneResult = document.querySelector(\".result__item--timezone p\");\nconst ispResult = document.querySelector(\".result__item--isp p\");\nasync function updateResult(data) {\n  addressResult.textContent = data.ip;\n  locationResult.textContent = data.location.city;\n  timezoneResult.textContent = \"UTC \" + data.location.timezone;\n  ispResult.textContent = data.isp;\n}\n\n//SUBMIT FORM\nsubmitButton.addEventListener(\"click\", () => {\n  getCoordinates(inputArea.value);\n});\ndocument.addEventListener(\"keypress\", (e) => {\n  if (e.key === \"Enter\") {\n    getCoordinates(inputArea.value);\n  }\n});\n"],"names":[],"version":3,"file":"index.7c0ccee6.js.map","sourceRoot":"/__parcel_source_root/"}